import{h as o,b as N,d as I,E as A,H as S,r as R,s as U,e as p,f as v,g as h,p as g,U as D,i as k,t as x,j as F,n as m,m as H,k as L,o as O}from"./DTh33aiI.js";import{s as j,g as q}from"./BOc2Zj5F.js";function M(e,a,n=!1){o&&N();var s=e,r=null,t=null,i=D,y=n?A:0,l=!1;const E=(c,u=!0)=>{l=!0,b(u,c)},b=(c,u)=>{if(i===(i=c))return;let d=!1;if(o){const T=s.data===S;!!i===T&&(s=R(),U(s),p(!1),d=!0)}i?(r?v(r):u&&(r=h(()=>u(s))),t&&g(t,()=>{t=null})):(t?v(t):u&&(t=h(()=>u(s))),r&&g(r,()=>{r=null})),d&&p(!0)};I(()=>{l=!1,a(E),l||b(null,null)},y),o&&(s=k)}let f=!1,_=Symbol();function P(e,a,n){const s=n[a]??(n[a]={store:null,source:H(void 0),unsubscribe:m});if(s.store!==e&&!(_ in n))if(s.unsubscribe(),s.store=e??null,e==null)s.source.v=void 0,s.unsubscribe=m;else{var r=!0;s.unsubscribe=j(e,t=>{r?s.source.v=t:O(s.source,t)}),r=!1}return e&&_ in n?q(e):L(s.source)}function Y(){const e={};function a(){x(()=>{for(var n in e)e[n].unsubscribe();F(e,_,{enumerable:!1,value:!0})})}return[e,a]}function Z(e,a,n){return e.set(n),a}function $(e){var a=f;try{return f=!1,[e(),f]}finally{f=a}}export{P as a,Z as b,$ as c,M as i,Y as s};
